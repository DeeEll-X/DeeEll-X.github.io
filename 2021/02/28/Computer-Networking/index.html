<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>计算机网络 自顶向下方法 | Enclave-X</title><meta name="author" content="DeeEll-X"><meta name="copyright" content="DeeEll-X"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="第一章 计算机网络和因特网端系统通过ISP（internet service provider）接入因特网 网络边缘 家庭接入 DSL（Digital Subscriber Line），本地电话公司是ISP，数据和传统电话信号编码为不同的频率。 电缆，利用有线电视基础设施，光缆将电缆头端连接到地区枢纽，再使用传统的同轴电缆到达不同家庭。 光纤到户，从本地中心局到家庭提供一条光线路径。   企业和家">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络 自顶向下方法">
<meta property="og:url" content="http://deeell-x.github.io/2021/02/28/Computer-Networking/index.html">
<meta property="og:site_name" content="Enclave-X">
<meta property="og:description" content="第一章 计算机网络和因特网端系统通过ISP（internet service provider）接入因特网 网络边缘 家庭接入 DSL（Digital Subscriber Line），本地电话公司是ISP，数据和传统电话信号编码为不同的频率。 电缆，利用有线电视基础设施，光缆将电缆头端连接到地区枢纽，再使用传统的同轴电缆到达不同家庭。 光纤到户，从本地中心局到家庭提供一条光线路径。   企业和家">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://deeell-x.github.io/null">
<meta property="article:published_time" content="2021-02-28T13:40:36.000Z">
<meta property="article:modified_time" content="2021-02-28T13:43:38.608Z">
<meta property="article:author" content="DeeEll-X">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://deeell-x.github.io/null"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://deeell-x.github.io/2021/02/28/Computer-Networking/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.2.0',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2021-02-28 21:43:38'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
  }
}

var autoChangeMode = 'false'
var t = saveToLocal.get('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (saveToLocal.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><meta name="generator" content="Hexo 5.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/null" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">19</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">7</div></a></div></div></div><hr/></div></div><div id="body-wrap"><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%92%8C%E5%9B%A0%E7%89%B9%E7%BD%91"><span class="toc-number">1.</span> <span class="toc-text">第一章 计算机网络和因特网</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E8%BE%B9%E7%BC%98"><span class="toc-number">1.0.1.</span> <span class="toc-text">网络边缘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83"><span class="toc-number">1.0.2.</span> <span class="toc-text">网络核心</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2"><span class="toc-number">1.0.2.1.</span> <span class="toc-text">分组交换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%B5%E8%B7%AF%E4%BA%A4%E6%8D%A2"><span class="toc-number">1.0.2.2.</span> <span class="toc-text">电路交换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%9A%84%E7%BD%91%E7%BB%9C"><span class="toc-number">1.0.2.3.</span> <span class="toc-text">网络的网络</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2%E7%BD%91%E4%B8%AD%E7%9A%84%E6%97%B6%E5%BB%B6%E3%80%81%E4%B8%A2%E5%8C%85%E5%92%8C%E5%90%9E%E5%90%90%E9%87%8F"><span class="toc-number">1.0.2.4.</span> <span class="toc-text">分组交换网中的时延、丢包和吞吐量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE%E5%B1%82%E6%AC%A1"><span class="toc-number">1.0.3.</span> <span class="toc-text">协议层次</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E5%BA%94%E7%94%A8%E5%B1%82"><span class="toc-number">2.</span> <span class="toc-text">第二章 应用层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%A0%E7%89%B9%E7%BD%91%E6%8F%90%E4%BE%9B%E7%9A%84%E8%BF%90%E8%BE%93%E6%9C%8D%E5%8A%A1%EF%BC%88%E8%BF%90%E8%BE%93%E5%B1%82%E5%8D%8F%E8%AE%AE%EF%BC%89"><span class="toc-number">2.0.1.</span> <span class="toc-text">因特网提供的运输服务（运输层协议）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Web%E5%92%8CHTTP"><span class="toc-number">2.0.2.</span> <span class="toc-text">Web和HTTP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E%E6%8C%81%E7%BB%AD%E8%BF%9E%E6%8E%A5%E5%92%8C%E6%8C%81%E7%BB%AD%E8%BF%9E%E6%8E%A5"><span class="toc-number">2.0.2.1.</span> <span class="toc-text">非持续连接和持续连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HTTP%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.0.2.2.</span> <span class="toc-text">HTTP报文格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E4%BA%A4%E4%BA%92%EF%BC%9A-cookie"><span class="toc-number">2.0.2.3.</span> <span class="toc-text">用户与服务器的交互： cookie</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Web%E7%BC%93%E5%AD%98"><span class="toc-number">2.0.2.4.</span> <span class="toc-text">Web缓存</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6GET%E6%96%B9%E6%B3%95"><span class="toc-number">2.0.2.5.</span> <span class="toc-text">条件GET方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE%EF%BC%9A-FTP"><span class="toc-number">2.0.3.</span> <span class="toc-text">文件传输协议： FTP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Internet%E4%B8%AD%E7%9A%84%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6"><span class="toc-number">2.0.4.</span> <span class="toc-text">Internet中的电子邮件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SMTP"><span class="toc-number">2.0.4.1.</span> <span class="toc-text">SMTP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%82%AE%E4%BB%B6%E8%AE%BF%E9%97%AE%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.0.4.2.</span> <span class="toc-text">邮件访问协议</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS%EF%BC%8CDomain-Name-System"><span class="toc-number">2.0.5.</span> <span class="toc-text">DNS，Domain Name System</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E8%BF%90%E8%BE%93%E5%B1%82"><span class="toc-number">3.</span> <span class="toc-text">第三章 运输层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8%E5%92%8C%E5%A4%9A%E8%B7%AF%E5%88%86%E8%A7%A3"><span class="toc-number">3.0.1.</span> <span class="toc-text">多路复用和多路分解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E8%BF%9E%E6%8E%A5%E8%BF%90%E8%BE%93%EF%BC%9AUDP"><span class="toc-number">3.0.2.</span> <span class="toc-text">无连接运输：UDP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E9%9D%A0%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E5%8E%9F%E7%90%86"><span class="toc-number">3.0.3.</span> <span class="toc-text">可靠数据传输原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF%E5%8F%AF%E9%9D%A0%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.0.3.1.</span> <span class="toc-text">流水线可靠数据传输协议</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%9E%E9%80%80N%E6%AD%A5"><span class="toc-number">3.0.3.1.1.</span> <span class="toc-text">回退N步</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E9%87%8D%E4%BC%A0"><span class="toc-number">3.0.3.1.2.</span> <span class="toc-text">选择重传</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%BF%90%E8%BE%93%EF%BC%9ATCP"><span class="toc-number">3.0.4.</span> <span class="toc-text">面向连接的运输：TCP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="toc-number">3.0.5.</span> <span class="toc-text">TCP拥塞控制</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-number">4.</span> <span class="toc-text">网络层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E7%94%B5%E8%B7%AF%E5%92%8C%E6%95%B0%E6%8D%AE%E6%8A%A5%E7%BD%91%E7%BB%9C"><span class="toc-number">4.0.1.</span> <span class="toc-text">虚电路和数据报网络</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E7%94%B5%E8%B7%AF"><span class="toc-number">4.0.1.1.</span> <span class="toc-text">虚电路</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8A%A5%E7%BD%91%E7%BB%9C"><span class="toc-number">4.0.1.2.</span> <span class="toc-text">数据报网络</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">4.0.2.</span> <span class="toc-text">路由器工作原理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E7%AB%AF%E5%8F%A3"><span class="toc-number">4.0.2.1.</span> <span class="toc-text">输入端口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E7%BB%93%E6%9E%84"><span class="toc-number">4.0.2.2.</span> <span class="toc-text">交换结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E7%AB%AF%E5%8F%A3"><span class="toc-number">4.0.2.3.</span> <span class="toc-text">输出端口</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E9%99%85%E5%8D%8F%E8%AE%AE%EF%BC%9Ainternet%E4%B8%AD%E7%9A%84%E8%BD%AC%E5%8F%91%E5%92%8C%E7%BC%96%E5%9D%80"><span class="toc-number">4.0.3.</span> <span class="toc-text">网际协议：internet中的转发和编址</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%A0%BC%E5%BC%8F"><span class="toc-number">4.0.3.1.</span> <span class="toc-text">数据报格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IPv4%E7%BC%96%E5%9D%80"><span class="toc-number">4.0.3.2.</span> <span class="toc-text">IPv4编址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE%E5%8D%8F%E8%AE%AE%EF%BC%88DHCP%EF%BC%89"><span class="toc-number">4.0.3.3.</span> <span class="toc-text">动态主机配置协议（DHCP）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2%E5%8D%8F%E8%AE%AE%EF%BC%88NAT%EF%BC%89"><span class="toc-number">4.0.3.4.</span> <span class="toc-text">网络地址转换协议（NAT）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E9%99%85%E6%8E%A7%E5%88%B6%E6%8A%A5%E6%96%87%E5%8D%8F%E8%AE%AE%EF%BC%88ICMP%EF%BC%89"><span class="toc-number">4.0.3.5.</span> <span class="toc-text">网际控制报文协议（ICMP）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IPv6"><span class="toc-number">4.0.3.6.</span> <span class="toc-text">IPv6</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E7%AE%97%E6%B3%95"><span class="toc-number">4.0.4.</span> <span class="toc-text">路由选择算法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%82%E6%AC%A1%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9"><span class="toc-number">4.0.4.1.</span> <span class="toc-text">层次路由选择</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E4%BF%A1%E6%81%AF%E5%8D%8F%E8%AE%AE%EF%BC%88RIP%EF%BC%89"><span class="toc-number">4.0.4.2.</span> <span class="toc-text">路由选择信息协议（RIP）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E9%83%A8%E7%BD%91%E5%85%B3%E5%8D%8F%E8%AE%AE%EF%BC%88OSPF%EF%BC%89"><span class="toc-number">4.0.4.3.</span> <span class="toc-text">内部网关协议（OSPF）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%B9%E7%95%8C%E7%BD%91%E5%85%B3%E5%8D%8F%E8%AE%AE%EF%BC%88BGP%EF%BC%89"><span class="toc-number">4.0.4.4.</span> <span class="toc-text">边界网关协议（BGP）</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-number">5.</span> <span class="toc-text">第五章 链路层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%AE%E9%94%99%E6%A3%80%E6%B5%8B%E5%92%8C%E7%BA%A0%E6%AD%A3%E6%8A%80%E6%9C%AF"><span class="toc-number">5.0.1.</span> <span class="toc-text">差错检测和纠正技术</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A5%87%E5%81%B6%E6%A0%A1%E9%AA%8C"><span class="toc-number">5.0.1.1.</span> <span class="toc-text">奇偶校验</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A3%80%E9%AA%8C%E5%92%8C%E6%96%B9%E6%B3%95"><span class="toc-number">5.0.1.2.</span> <span class="toc-text">检验和方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E5%86%97%E4%BD%99%E6%A3%80%E6%B5%8B"><span class="toc-number">5.0.1.3.</span> <span class="toc-text">循环冗余检测</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%B7%AF%E8%AE%BF%E9%97%AE%E9%93%BE%E8%B7%AF%E5%92%8C%E5%8D%8F%E8%AE%AE"><span class="toc-number">5.0.2.</span> <span class="toc-text">多路访问链路和协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%A1%E9%81%93%E5%88%92%E5%88%86%E5%8D%8F%E8%AE%AE"><span class="toc-number">5.0.2.1.</span> <span class="toc-text">信道划分协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E6%8E%A5%E5%85%A5%E5%8D%8F%E8%AE%AE"><span class="toc-number">5.0.2.2.</span> <span class="toc-text">随机接入协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AE%E6%B5%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">5.0.2.3.</span> <span class="toc-text">轮流协议</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="toc-number">5.0.3.</span> <span class="toc-text">交换局域网</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%93%BE%E8%B7%AF%E5%B1%82%E5%AF%BB%E5%9D%80%E4%B8%8EARP"><span class="toc-number">5.0.3.1.</span> <span class="toc-text">链路层寻址与ARP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E8%A7%A3%E6%9E%90%E5%8D%8F%E8%AE%AE"><span class="toc-number">5.0.3.2.</span> <span class="toc-text">地址解析协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%93%BE%E8%B7%AF%E5%B1%82%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="toc-number">5.0.3.3.</span> <span class="toc-text">链路层交换机</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E6%9C%BA%E4%B8%8E%E8%B7%AF%E7%94%B1%E5%99%A8%E6%AF%94%E8%BE%83"><span class="toc-number">5.0.3.3.1.</span> <span class="toc-text">交换机与路由器比较</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Web%E9%A1%B5%E9%9D%A2%E8%AF%B7%E6%B1%82%E7%9A%84%E5%8E%86%E7%A8%8B"><span class="toc-number">5.0.4.</span> <span class="toc-text">Web页面请求的历程</span></a></li></ol></li></ol></li></ol></div></div></div><header class="post-bg" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Enclave-X</a></span><span id="menus"><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">计算机网络 自顶向下方法</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-02-28T13:40:36.000Z" title="Created 2021-02-28 21:40:36">2021-02-28</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2021-02-28T13:43:38.608Z" title="Updated 2021-02-28 21:43:38">2021-02-28</time></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="第一章-计算机网络和因特网"><a href="#第一章-计算机网络和因特网" class="headerlink" title="第一章 计算机网络和因特网"></a>第一章 计算机网络和因特网</h1><p>端系统通过ISP（internet service provider）接入因特网</p>
<h3 id="网络边缘"><a href="#网络边缘" class="headerlink" title="网络边缘"></a>网络边缘</h3><ol>
<li>家庭接入<ul>
<li>DSL（Digital Subscriber Line），本地电话公司是ISP，数据和传统电话信号编码为不同的频率。</li>
<li>电缆，利用有线电视基础设施，光缆将电缆头端连接到地区枢纽，再使用传统的同轴电缆到达不同家庭。</li>
<li>光纤到户，从本地中心局到家庭提供一条光线路径。</li>
</ul>
</li>
<li>企业和家庭接入<ul>
<li>以太网和Wi-Fi接入</li>
</ul>
</li>
<li>广域无线接入<ul>
<li>3G和LTE</li>
</ul>
</li>
</ol>
<h3 id="网络核心"><a href="#网络核心" class="headerlink" title="网络核心"></a>网络核心</h3><h4 id="分组交换"><a href="#分组交换" class="headerlink" title="分组交换"></a>分组交换</h4><p>端系统间交换报文（message），源将长报文划分为packet，每个packet通过通信链路和分组交换机（packet switch，分为router（网络层）和switch（链路层））传送。</p>
<p>如果某源端系统或分组交换机通过一条链路发送一个L bit的分组，链路的传送速率为R bit/s, 则需要 L/R s传输时间。</p>
<ol>
<li><p>存储转发传输<br>交换机能够开始向输出链路传输该分组的第一个比特之前，必须接受到整个分组。<br>此时由N条速率均为R的链路组成的路径（src，dst之间有N-1个路由器）端到端的时延为$ d_{end_to_end} = N\frac{L}{R}$</p>
</li>
<li><p>排队时延和分组丢失</p>
</li>
<li><p>转发表和路由选择协议</p>
<p>没太大路由器有一个转发表（forwarding table）用于将目的地址映射为输出链路</p>
</li>
</ol>
<h4 id="电路交换"><a href="#电路交换" class="headerlink" title="电路交换"></a>电路交换</h4><p>两台主机要通信时，电路交换网络需要在两台主机之间创建一条【专用】的end-to-end connection</p>
<ol>
<li><p>电路交换网络中的复用</p>
<ul>
<li><p>频分复用（FDM），链路的谱段由跨越链路创建的所有连接共享。在连接期间链路为每个连接专用一个频段，频段的宽度为带宽。<br>对于FDM，每条电路连续的得到部分带宽</p>
</li>
<li><p>时分复用（TDM）一条TDM链路时间被划分为固定区间的帧，且每帧划分为固定数量的时隙。当网络跨越一条链路创建一条连接时，网络在每个帧中为该连接指定一个时隙，这个时隙由该连接单独使用，一个时隙在每个帧中可用于传输该连接的数据。<br>TDM的一条电路的传输速率等于帧速率*一个时隙的bit数量<br>对于TDM，每条电路在时隙内周期性地得到所有带宽</p>
</li>
</ul>
</li>
<li><p>分组交换与电路交换的对比</p>
<ul>
<li>电路交换需要先创建一条专用的端到端连接，在所有时间必须为每个可能的用户预留带宽/时隙；分组交换可以利用转发表和路由选择协议，更高效，因为可以占用所有带宽/时隙，避免拥堵。</li>
</ul>
</li>
</ol>
<h4 id="网络的网络"><a href="#网络的网络" class="headerlink" title="网络的网络"></a>网络的网络</h4><p>当今网络由十多个第一层ISP和数十万个较低层ISP组成。ISP覆盖的区域有所不同，较低层ISP与较高层ISP相连，较高层ISP彼此互联。用户和内容提供商是较低层ISP的客户，较低层ISP是较高层ISP的客户。</p>
<h4 id="分组交换网中的时延、丢包和吞吐量"><a href="#分组交换网中的时延、丢包和吞吐量" class="headerlink" title="分组交换网中的时延、丢包和吞吐量"></a>分组交换网中的时延、丢包和吞吐量</h4><ol>
<li><p>时延类型</p>
<p>结点处理时延（处理分组首部，决定将该分组导向何处），排队时延（分组在链路上等待传输），传输时延（将分组所有bit传播到链路所需时间），传播时延（从链路起点到下一路由器的时间）</p>
</li>
<li><p>排队时延和丢包</p>
<p>假设所有分组由L bit组成，分组到达队列的平均速率为alpha，传输速率为R，流量强度为$L\alpha/R$,设计系统时流量强度不能大于1。</p>
</li>
<li><p>端到端时延</p>
<p>假设网络无拥堵，src/dst之间有N-1台路由器，处理时延为$d_{end-end} = N(d_{proc}+d_{trans}+d_{prop})$,其中$d_{trans} = L /R$</p>
<ul>
<li>Traceroute: src 不断向网络发送分组且每个分组地址指向最终目的地，标识为1到N。第n台路由器接受到标识为n的第n个分组时，该路由器向serc回送一个报文。这样src就记录了从它到dst发包的所有时间和途径的所有路由器的名字和地址。</li>
</ul>
</li>
</ol>
<h3 id="协议层次"><a href="#协议层次" class="headerlink" title="协议层次"></a>协议层次</h3><p>五层因特网协议栈：</p>
<ul>
<li>应用层（HTTP SMTP FTP DNS） 运输层（TCP UDP） 网络层（IP 路由器） 链路层（交换机） 物理层</li>
</ul>
<p>七层OSI模型：</p>
<ul>
<li>应用层 表示层（使通信的应用程序能够解释交换数据的意义，包含数据压缩和数据加密和数据描述） 会话层（提供数据交换定界和同步功能） 运输层 网络层 链路层 物理层</li>
</ul>
<h1 id="第二章-应用层"><a href="#第二章-应用层" class="headerlink" title="第二章 应用层"></a>第二章 应用层</h1><h3 id="因特网提供的运输服务（运输层协议）"><a href="#因特网提供的运输服务（运输层协议）" class="headerlink" title="因特网提供的运输服务（运输层协议）"></a>因特网提供的运输服务（运输层协议）</h3><ol>
<li><p>TCP</p>
<ul>
<li>面向连接的服务</li>
<li>可靠的数据传送服务</li>
<li>拥塞控制机制</li>
<li>Secure Socket Layer</li>
<li>TCP支持应用层协议：SMTP（电子邮件）Telnet（远程终端访问）Web（HTTP）FTP（文件传输）HTTP如YouTube（流式多媒体）</li>
</ul>
</li>
<li><p>UDP</p>
<ul>
<li>无连接</li>
<li>不可靠数据传送服务：不保证一定到达，不保证按序到达</li>
<li>无拥塞控制机制</li>
<li>UDP支持应用层协议：因特网电话、视频等</li>
</ul>
</li>
</ol>
<h3 id="Web和HTTP"><a href="#Web和HTTP" class="headerlink" title="Web和HTTP"></a>Web和HTTP</h3><p>HTTP客户首先发起一个与服务器的TCP连接。一旦连接建立，该浏览器与服务区进程就可以通过套接字接口访问TCP。</p>
<p>先建立TCP连接，在客户和服务器上分别有哦一个套接字与该连接相关联。客户向他的socket接口发送HTTP请求报文并从它的socket接口接受http响应报文。类似的，服务器从它的socket接口接受http响应报文并向他的socket接口发送HTTP请求报文。最后连接要结束时，TCP连接断开。</p>
<p>HTTP是无状态协议，不保存关于客户的任何信息。</p>
<p>建立TCP连接涉及一次三次握手过程：</p>
<ul>
<li>客户向服务器发送小TCP报文段</li>
<li>服务器用小TCP报文段做出确认和响应</li>
<li>客户向服务器返回确认（该部分可以发送一个http请求报文）</li>
</ul>
<h4 id="非持续连接和持续连接"><a href="#非持续连接和持续连接" class="headerlink" title="非持续连接和持续连接"></a>非持续连接和持续连接</h4><ol>
<li><p>非持续连接</p>
<p>总的响应时间约为$2*RTT+$服务器传输HTML文件的时间</p>
<p>必须为每一个请求的对象建立和维护一个全新的连接‘每个对象经受两倍RTT的交付时延（1个创建TCP，1个请求和接收一个对象）</p>
</li>
<li><p>持续连接</p>
</li>
</ol>
<h4 id="HTTP报文格式"><a href="#HTTP报文格式" class="headerlink" title="HTTP报文格式"></a>HTTP报文格式</h4><ol>
<li><p>请求报文</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">GET &#x2F;somedir&#x2F;page.html HTTP&#x2F;1.1 	&#x2F;&#x2F; 请求行（request line）：方法，URL，HTTP 版本</span><br><span class="line">Host: www.someschool.edu					&#x2F;&#x2F; 后面的都称为 首部行（header line）：对象所在的主机</span><br><span class="line">Connection: close									&#x2F;&#x2F; 持续连接（不关闭） 非持续连接（close）			</span><br><span class="line">User-agent: Mozilla&#x2F;5.0						&#x2F;&#x2F; 指明用户代理，即向服务器发送请求的浏览器的类型</span><br><span class="line">Accept-language: fr</span><br><span class="line">... &#x2F;&#x2F; entity body</span><br></pre></td></tr></table></figure>
</li>
<li><p>响应报文</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">HTTP&#x2F;1.1 200 OK				&#x2F;&#x2F; 初始状态行（status line）：协议版本字段，状态码，相应状态信息</span><br><span class="line">Connection： close		 &#x2F;&#x2F; 首部行 发送完报文后关闭此连接</span><br><span class="line">Date: Tue, 09 Aug 2011 15:44:04 &#x2F;&#x2F; 发送完该响应报文的时间</span><br><span class="line">Server:Apache&#x2F;2.2.3(CentOS)			&#x2F;&#x2F; 产生该报文的服务器类型</span><br><span class="line">Last-Modified: Tue, 09 Aug 2011 15:11:03 GMT &#x2F;&#x2F;对象创建或最后修改的时间</span><br><span class="line">Content-Length： 6821	&#x2F;&#x2F;发送对象的字节数</span><br><span class="line">Content-Type： text&#x2F;html	&#x2F;&#x2F;指示对象类型：html文本</span><br><span class="line">... &#x2F;&#x2F; entity body</span><br></pre></td></tr></table></figure>

<p>状态码： </p>
<ul>
<li>200 ok</li>
<li>301 moved permanently: 请求对象被永久转移。新的URL定义在响应报文的location（首部行中）</li>
<li>400 bad request: 一个通用差错代码，指示该请求不能被服务器理解</li>
<li>404 not found: 被请求的文档不在服务器上</li>
<li>505 http version not supported:服务器不支持请求报文使用的http协议版本</li>
</ul>
</li>
</ol>
<h4 id="用户与服务器的交互：-cookie"><a href="#用户与服务器的交互：-cookie" class="headerlink" title="用户与服务器的交互： cookie"></a>用户与服务器的交互： cookie</h4><p>cookie技术的4个组件：</p>
<ul>
<li>在http响应报文中的一个cookie首部行</li>
<li>在http请求报文中的一个cookie首部行</li>
<li>在用户端系统中保留有一个cookie文件，由用户的浏览器进行管理</li>
<li>位于web站点的一个后端数据库</li>
</ul>
<p>cookie用于标识一个用户。用户首次访问一个站点时可能需要提供一个用户标识。在后继会话中，浏览器向服务器传递一个cookie首部，从而向该服务器标识了用户。因此cooke可以在无状态的http之上建立一个用户会话层。</p>
<h4 id="Web缓存"><a href="#Web缓存" class="headerlink" title="Web缓存"></a>Web缓存</h4><p>用户的所有http请求首先指向web缓存器。若有请求对象的副本就返回，若无就向初始服务器发送http请求再返回。</p>
<p>Web 缓存器既是服务器又是客户。</p>
<p>优点：减少对客户请求的响应时间；减少机构接入链路到internet的通信量。</p>
<p>应用：内容分发网络（Content Distribution Network， CDN）</p>
<h4 id="条件GET方法"><a href="#条件GET方法" class="headerlink" title="条件GET方法"></a>条件GET方法</h4><p>通过记录Last-Modified和在首部行中加入If-Modified-Since，来获取最新的修改内容。</p>
<h3 id="文件传输协议：-FTP"><a href="#文件传输协议：-FTP" class="headerlink" title="文件传输协议： FTP"></a>文件传输协议： FTP</h3><p>使用两个并行的TCP连接来传输文件，一个是控制连接，一个是数据连接。不想HTTP，HTTP是带内发送控制信息（同一个TCP连接），FTP是带外。</p>
<p>每一次数据传输都要建立一个新的数据连接，传送文件后就关闭连接。</p>
<p>FTP服务器必须在整个会话期间保留用户的状态（state）。</p>
<h3 id="Internet中的电子邮件"><a href="#Internet中的电子邮件" class="headerlink" title="Internet中的电子邮件"></a>Internet中的电子邮件</h3><p>主要组成部分： user agent, mail server, Simple Mail Transfer Protocol(SMTP)</p>
<p>邮件服务器是电子邮件体系结构的核心。</p>
<p>典型的邮件发送过程：从发送方的用户代理开始，传输到发送方的邮件服务器，再传输到接收方的邮件服务器，然后再这里被分发到接收方的邮箱中。</p>
<h4 id="SMTP"><a href="#SMTP" class="headerlink" title="SMTP"></a>SMTP</h4><p>SMTP用于邮件从发送方的用户代理传送到发送方的邮件服务器，从发送方的邮件服务器发送报文到接收方的邮件服务器。SMTP一般不使用中间邮件服务器发送邮件，TCP连接为发送方到接收方服务器的直接相连。</p>
<p>SMTP使用的是持续连接。</p>
<p>SMTP与HTTP的区别：</p>
<ul>
<li>HTTP： pull protocol, SMTP: push protocol</li>
<li>SMTP 要求每个报文使用7 bit ASCII码格式，HTTP不受该限制</li>
<li>对于一个既包含文本有包含图形的文档，HTTP将每个对象封装到它自己的http响应报文中，SMTP把所有对象放在一个报文中。</li>
</ul>
<h4 id="邮件访问协议"><a href="#邮件访问协议" class="headerlink" title="邮件访问协议"></a>邮件访问协议</h4><p>用于邮件从接收方的邮件服务器传送到接收方的用户代理。</p>
<p>POP3，IMAP，基于web的电子邮件将报文从发送方发到邮件服务器时用的是HTTP。</p>
<h3 id="DNS，Domain-Name-System"><a href="#DNS，Domain-Name-System" class="headerlink" title="DNS，Domain Name System"></a>DNS，Domain Name System</h3><p>一个由分层的DNS服务器实现的分布式数据库；一个使得主机能够查询分布式数据库的应用层协议。</p>
<p>运行在UDP上，使用53号端口。</p>
<p>分为根DNS服务器，顶级域（DNS）服务器和权威DNS服务器</p>
<h1 id="第三章-运输层"><a href="#第三章-运输层" class="headerlink" title="第三章 运输层"></a>第三章 运输层</h1><p>运输层协议为运行在不同主机上的应用进程提供逻辑通信。</p>
<p>网络层提供主机之间的逻辑通信。网络层协议：IP，是不可靠服务，服务模型为尽力交付，不做任何确保。</p>
<p>将主机间交付扩展到进程间交付被称为运输层的多路复用和多路分解。</p>
<h3 id="多路复用和多路分解"><a href="#多路复用和多路分解" class="headerlink" title="多路复用和多路分解"></a>多路复用和多路分解</h3><p>将运输层报文段的数据交付到正确的socket的工作称为多路分解。</p>
<p>在源主机从不同套接字中收集数据块，并为每个数据块上封装首部信息从而生成报文段，然后将报文段传递到网络层，所有这些工作称为多路复用。</p>
<p>在主机上的每个socket能够分配一个端口号，当报文段到达主机时，运输层检查报文段中的目的端口号，并将其定向到相应的socket。然后报文段中的数据通过socket进入其所连接的进程。</p>
<p>0-1023范围的端口号是well-known port number，受限制，HTTP-80；FTP-21.</p>
<ol>
<li><p>无连接的多路复用与多路分解</p>
<p>UDP socket是由一个二元组来全面表示的：( dst IP, dst port )</p>
</li>
<li><p>面向连接的多路复用与多路分解</p>
<p>TCP socket是由一个四元组来表示的：（src IP,src port, dst IP, dst port）</p>
</li>
</ol>
<h3 id="无连接运输：UDP"><a href="#无连接运输：UDP" class="headerlink" title="无连接运输：UDP"></a>无连接运输：UDP</h3><p>udp只提供运输协议能够做的最少工作，除了复用/分解功能及少量的差错检验之外，对IP没有增加别的东西。</p>
<p>无连接的-在使用UDP时，在发送报文段之前，发送方和接收方的运输层实体之间没有握手。</p>
<p>优点：</p>
<ul>
<li>关于何时、发送什么数据的应用层控制更为精细</li>
<li>无需建立连接</li>
<li>无连接状态</li>
<li>分组首部开销小</li>
</ul>
<h3 id="可靠数据传输原理"><a href="#可靠数据传输原理" class="headerlink" title="可靠数据传输原理"></a>可靠数据传输原理</h3><p>使用检验和、序号、ACK分组和重传</p>
<ol start="3">
<li><p>具有bit差错的丢包信道的可靠数据传输：rdt3.0</p>
<p>让发送方负责检测和恢复丢包工作。若发送方等待以确定分组已经丢失，只需要重传该数据分组即可。</p>
<p>等待时间至少为发送接收方之间的一个往返时延加上接收方处理一个分组所需的时间。</p>
<p>当发包时延很大时发送方会重传，即使事实上该数据分组和ACK都没消失，这被称为引入了冗余数据分组。可用序号来处理。</p>
</li>
</ol>
<h4 id="流水线可靠数据传输协议"><a href="#流水线可靠数据传输协议" class="headerlink" title="流水线可靠数据传输协议"></a>流水线可靠数据传输协议</h4><p>rdt3.0的缺点在于它是一个停等协议，放松方利用率$U_{sender} = \frac{L/R}{RTT+L/R}$很低。</p>
<h5 id="回退N步"><a href="#回退N步" class="headerlink" title="回退N步"></a>回退N步</h5><p>接收方：如果一个序号为n的分组被正确收到，且上次交付给上层的数据是序号为n-1的分组，则接收方为分组n发送一个ACK，并将该分组中的数据部分交付给上层。在所有其他情况下，接收方丢弃该分组，并为最近按序接收的分组重新发送ACK。</p>
<p>发送方：</p>
<p>将所有分组按序号分为四个部分：已被确认/发送还未确认/可用还未发送/不可用</p>
<ul>
<li>上层调用。检查发送窗口是否已满，未满则产生一个分组并将其发送，更新相应变量；已满则将数据返回，隐式地指示上层该窗口已满。</li>
<li>收到一个ACK。对序号为n的分组的确认采取累积确认，表示接收方已正确接受到序号为n及以前的所有分组。</li>
<li>超时事件。重传所有已发送但还未被确认的分组。</li>
</ul>
<h5 id="选择重传"><a href="#选择重传" class="headerlink" title="选择重传"></a>选择重传</h5><p>选择重传协议通过让发送方仅重传那些它怀疑在接收方出错的分组而避免了不必要的重传。</p>
<p>发送方：</p>
<ul>
<li>从上层收到数据：检查下一个可用于该分组的序号。若在窗口内，则将数据打包发送；否则将数据返回，隐式地指示上层该窗口已满。</li>
<li>超时：每个分组有自己的逻辑定时器。因为超时后只能发送一个分组。</li>
<li>收到ACK：若分组序号在窗口内，将该分组标记为已接收；若序号等于send_base，则窗口基序号向前移动到具有最小序号的未确认分组处。若窗口移动了且有序号落在窗口内的未发送分组，则发送这些分组。</li>
</ul>
<p>接收方：确认一个正确接收的分组不管其是否按序。失序的分组被缓存直到序号更小的分组都被收到为止。</p>
<h3 id="面向连接的运输：TCP"><a href="#面向连接的运输：TCP" class="headerlink" title="面向连接的运输：TCP"></a>面向连接的运输：TCP</h3><p>客户进程通过socket传递数据流，TCP把数据引导到该连接的发送缓存中。TCP不时从发送缓存中取出一块数据加上TCP/IP首部发送给接收方。TCP在另一端接收一个报文段后，该报文段的数据就被放入该TCP连接的接收缓存中。</p>
<p>主机A填充进报文段的确认号是主机A期望从主机B收到的下一字节的序号（第一个丢失字节为止的字节）。</p>
<p>超时间隔加倍</p>
<p>快速重传：TCP接收方收到一个其序号大于下一个所期望的按序的报文段，立即发送冗余ACK，指示下一个 期待字节的序号（其为间隔的低端的序号）；一旦收到3个冗余ACK，TCP就执行快速重传，即在该报文段的定时器过期之前重传丢失的报文段，</p>
<p>流量控制：$LastByteRevd-LastByteRead\leq RevBuffer$,接收窗口$rwnd = RevBuffer-[LastByteREvd-LastByteRead]$,主机A在该连接的整个生命周期保证$LastByteSent - LastByteAsked\leq rwnd$<br>    *UDP 不提供流量控制</p>
<p>三次握手：</p>
<ul>
<li>client status：CLOSED server status：LISTEN<br>client：SYN = 1， seq = client_isn</li>
<li>client status： SYN_SENT<br>server：SYN = 1, seq = server_isn; Ack = client_isn+1<br>server status：SYN_RCVD</li>
<li>client status: ESTABLISHED<br>client：SYN = 0(连接已经建立), seq = client_isn+1; Ack = server_isn+1<br>server status：ESTABLISHED</li>
</ul>
<p>关闭连接：</p>
<ul>
<li>client：FIN 发送后进入FIN_WAIT_1状态</li>
<li>client status: FIN_WAIT_1<br>server：ACK server status：CLOSE_WAIT<br>client收到ACK后进入FIN_WAIT_2状态</li>
<li>server：FIN server status：LAST_ACK</li>
<li>client：ACK，发送后进入TIME_WAIT状态，等待30s/1 min/2 min/…后进入CLOSED状态</li>
</ul>
<p>FIN/ACK/SYN都是TCP报文段中的标志位</p>
<h3 id="TCP拥塞控制"><a href="#TCP拥塞控制" class="headerlink" title="TCP拥塞控制"></a>TCP拥塞控制</h3><p>运行在发送方的TCP拥塞控制机制跟踪一个额外的变量，即拥塞窗口，cwnd。应满足$LastByteSent-LastByteAcked \leq min{cwnd,rwnd}$</p>
<p>发送方的发送速率应该是cwnd/RTT字节/秒。</p>
<p>TCP发送方的丢包事件为：要么超时，要么收到来自接收方的3个冗余ACK。</p>
<p>算法：</p>
<ul>
<li>慢启动：每过一个RTT，拥塞窗口翻倍，发送速率指数增长。当检测到拥塞时ssthresh（“慢启动阈值”的速记）设为cwnd值的一半/检测到3个冗余ACK时结束指数增长。</li>
<li>拥塞避免：每个RTT只将cwnd的值增加一个MSS。当出现超时/检测到3个冗余ACK时，ssthresh的值被更新为cwnd值的一半。</li>
<li>快速恢复：快速恢复中，对于引起TCP进入快速恢复的缺失报文段，对收到的每个冗余ACK，cwnd的值增加一个MSS。最终，当对丢失报文段的一个ACK到达时，TCP在降低swnd后进入拥塞避免状态。如果出现超时事件，快速恢复在执行如同在慢启动和拥塞避免中相同的动作，迁移到慢启动状态：当丢包事件出现时，cwnd的值被设置为1个MSS且ssthresh的值设置为cwnd的一半。</li>
</ul>
<h1 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h1><p>网络层提供单一的服务，称为best-effort service。</p>
<h3 id="虚电路和数据报网络"><a href="#虚电路和数据报网络" class="headerlink" title="虚电路和数据报网络"></a>虚电路和数据报网络</h3><h4 id="虚电路"><a href="#虚电路" class="headerlink" title="虚电路"></a>虚电路</h4><p>网络层的连接被称为虚电路。属于一条虚电路的分组首部携带了一个VC号。一条虚电路在不同的链路上可能有不同的VC号。虚电路中，路由器的转换表记录了VC号和VC号之间的转换。虚电路网络中，路由器为进行中的连接维持连接状态信息。</p>
<h4 id="数据报网络"><a href="#数据报网络" class="headerlink" title="数据报网络"></a>数据报网络</h4><p>无需建立任何虚电路，路由器不维护任何虚电路的状态信息。路由器用分组的目的地址的前缀进行最长前缀匹配规则。</p>
<h3 id="路由器工作原理"><a href="#路由器工作原理" class="headerlink" title="路由器工作原理"></a>路由器工作原理</h3><p>路由转发平面：转发功能的总称。通常通过硬件实现。</p>
<p>路由器控制平面：执行路由选择协议、对上线或下线的连接链路进行响应，以及执行管理功能。通常用软件实现并在路由选择处理器上执行。</p>
<h4 id="输入端口"><a href="#输入端口" class="headerlink" title="输入端口"></a>输入端口</h4><p>每个输入端口处都有一个转发表的影子副本，路由器使用转发表做最长前缀匹配来查找输出端口，然后发送该分组到交换结构。</p>
<h4 id="交换结构"><a href="#交换结构" class="headerlink" title="交换结构"></a>交换结构</h4><p>交换方式：</p>
<ul>
<li>经内存交换</li>
<li>总线交换：输入端口经一条共享总线将分组直接传送到输出端口，不需要路由选择处理器的干预。一次只能有一个分组跨越总线。</li>
<li>经互联网络交换</li>
</ul>
<h4 id="输出端口"><a href="#输出端口" class="headerlink" title="输出端口"></a>输出端口</h4><p>选择和取出放在输出端口内存处的分组，并执行所需的链路层和物理层功能，将其发送到输出链路上。</p>
<h3 id="网际协议：internet中的转发和编址"><a href="#网际协议：internet中的转发和编址" class="headerlink" title="网际协议：internet中的转发和编址"></a>网际协议：internet中的转发和编址</h3><h4 id="数据报格式"><a href="#数据报格式" class="headerlink" title="数据报格式"></a>数据报格式</h4><p>版本号：IPv4/IPv6，首部长度，服务类型，数据报长度：首部加数据，标识、标志、片偏移：与IP分片有关，Time-To-Live、TTL：=0时丢弃该包，协议：TCP/ UDP，首部检验和，Src IP , Dst IP, 选项（如果有的话），数据</p>
<p>IP数据报分片：标志：flag=0表示最后一个片，否则为1</p>
<h4 id="IPv4编址"><a href="#IPv4编址" class="headerlink" title="IPv4编址"></a>IPv4编址</h4><p>子网掩码(例如a.b.c.d/x)</p>
<p>无类别域间路由选择（Classless Interdomain Routing, CIDR）</p>
<p>A类子网（x=8） B类子网（x=16） C类子网（x=24）</p>
<h4 id="动态主机配置协议（DHCP）"><a href="#动态主机配置协议（DHCP）" class="headerlink" title="动态主机配置协议（DHCP）"></a>动态主机配置协议（DHCP）</h4><p>用于分配IP地址，同时让主机得知子网掩码、第一跳路由器地址（即默认网关）与它的DNS服务器的地址。</p>
<p>即插即用协议</p>
<p>给一台新到的主机分配服务器地址的步骤：</p>
<ul>
<li>DHCP服务器发现。DHCP客户广播包含<strong>DHCP发现报文</strong>的IP数据报，广播目的地址为255.255.255.255，源地址为0.0.0.0</li>
<li>DHCP服务器提供。响应<strong>DHCP提供报文</strong>，使用IP广播地址255.255.255.255.其中包含发现报文的事务ID，向客户推荐的IP地址，网络掩码与IP地址租用期。</li>
<li>DHCP请求。客户从多个服务器提供中选择一个，向服务商发送<strong>DHCP请求报文</strong></li>
<li>DHCP ACK，服务器用<strong>DHCP ACK报文</strong>响应</li>
</ul>
<h4 id="网络地址转换协议（NAT）"><a href="#网络地址转换协议（NAT）" class="headerlink" title="网络地址转换协议（NAT）"></a>网络地址转换协议（NAT）</h4><p>SNAT：企业内部的主机A想访问互联网上的主机C，首先将请求（源：IPA，目标IPC）发送给防火墙所在的主机B，B收到后将包源地址改为本机公网网卡的IP（源：IPB，目标：IPC），然后经互联网发送给C；C收到后将回应（源：IPC，目标：IPB）转发给C的路由器，经互联网将回应转发给B，B收到包后修改目标地址（源：IPC，目标：IPA）然后将数据包发送给A。</p>
<p>DNAT：互联网上的主机C想访问企业内部的主机A，但A的地址无法直接访问。此时，C访问防火墙的公网地址，C的包（源：IPC，目标：IPB）到达防火墙B后，在B的prerouting上修改包的目标地址，再将包（源：IPC，目标：IPA）发送给A。A收到后将响应（源：IPA，目标：IPC）发到防火墙，B修改包的源地址，并将响应（源：IPB，目标：IPC）发送给C。</p>
<h4 id="网际控制报文协议（ICMP）"><a href="#网际控制报文协议（ICMP）" class="headerlink" title="网际控制报文协议（ICMP）"></a>网际控制报文协议（ICMP）</h4><p>用于有效转发IP数据报和提高交付成功的机会。通常认为是IP的一部分，但是它是像TCP/UDP一样作为IP的有效载荷承载的。</p>
<ol>
<li><p>Ping</p>
<p>用于测试主机间的连通性。ping程序发送一个ICMP类型8编码0的ICMP回显请求到指定主机；目的主机发回一个类型0编码0的ICMP回显回答。</p>
</li>
<li><p>Traceroute</p>
<p>为判断源与目的地之间所有路由器的名字的地址，源主机的Traceroute向目的主机发送一系列携带不可达UDP端口的UDP报文段的IP数据报。数据报的TTL分别为1，2，3……当第n个数据报到达第n个路由器时，TTL正好过期，路由器丢弃该数据报并发送给一个类型11编码0的ICMP表示TTL过期的报文。</p>
<p>由于数据报封装的是无法交付的UDP，故目的主机要向源主机发送类型3编码3表示目的端口不可达的报文。</p>
</li>
</ol>
<h4 id="IPv6"><a href="#IPv6" class="headerlink" title="IPv6"></a>IPv6</h4><p>版本号，流量类型，流标签，有效载荷长度，下一个首部（TCP/UDP），跳限制，源地址和目的地址，数据。</p>
<p>ipv6不再进行分片/重新组装，没有首部检验和</p>
<p>为同时支持ipv4和ipv6，使用双栈方法，即使用该方法的IPv6还有完整的IPv4的实现，如果发/收双方任一个只能使用IPv4，那么必须使用IPv4。可以使用建隧道的方式使得有IPv6的主机直接交互。</p>
<p>隧道同样可用于建立虚拟专用网VPN。</p>
<h3 id="路由选择算法"><a href="#路由选择算法" class="headerlink" title="路由选择算法"></a>路由选择算法</h3><p>全局式路由选择算法：输入是所有节点间的连通性和所有链路的费用。算法： Link State算法。算法原理是Dijkstra算法，将距离最近的节点不断加入集合。</p>
<p>分散式路由选择算法：迭代、分布式的算法。每个节点只有她与相邻节点的相连的链路信息，并与相邻节点交换信息。算法：Distance- Vector算法。算法原理是$d_x(y) = min_v{c(x,v)+d_v(y)}$</p>
<p>DV 算法遇到的一个问题是当链路费用改变，距离向量广播可能导致循环改变最短链路费用。一种比较有限的解决方法是增加毒性逆转，例如若a到c的最短路径需要经过b，则c会告诉b，a到c的距离是无穷大。但毒性逆转无法解决多节点的环路问题。</p>
<h4 id="层次路由选择"><a href="#层次路由选择" class="headerlink" title="层次路由选择"></a>层次路由选择</h4><p>互联网可划分为不同的自治系统（Autonomous System, AS），AS之间由网关路由器相互连接。</p>
<p>自治系统内部路由选择协议：RIP，OSPF</p>
<p>自治系统间路由选择协议：BGP</p>
<h4 id="路由选择信息协议（RIP）"><a href="#路由选择信息协议（RIP）" class="headerlink" title="路由选择信息协议（RIP）"></a>路由选择信息协议（RIP）</h4><p>直接相连的路由器的跳数为1，跳数最多为15，超过15说明不可达（限制了网络规模）。</p>
<p>RIP基于距离向量。RIP按固定的时间间隔向相邻路由器交换自己的路由表，有限次数后，所有路由器最终会知道到达本AS中任意网络的最短距离和下一跳路由器的地址。</p>
<p>使用UDP</p>
<h4 id="内部网关协议（OSPF）"><a href="#内部网关协议（OSPF）" class="headerlink" title="内部网关协议（OSPF）"></a>内部网关协议（OSPF）</h4><p>核心是使用洪泛链路状态信息的链路状态协议和一个Dijkstra最低费用路径算法。</p>
<p>路由器周期性地使用洪泛法向自治系统内所有其他路由器广播路由选择信息（与相邻路由器的链路信息）。</p>
<h4 id="边界网关协议（BGP）"><a href="#边界网关协议（BGP）" class="headerlink" title="边界网关协议（BGP）"></a>边界网关协议（BGP）</h4><p>向相邻AS处获得子网可达性信息</p>
<p>向本AS内部所有路由器传播这些信息</p>
<p>基于可达性信息和AS策略，决定到达子网的合适路由。</p>
<h1 id="第五章-链路层"><a href="#第五章-链路层" class="headerlink" title="第五章 链路层"></a>第五章 链路层</h1><p>链路层的主体在网络适配器（网络接口卡）中实现。</p>
<h3 id="差错检测和纠正技术"><a href="#差错检测和纠正技术" class="headerlink" title="差错检测和纠正技术"></a>差错检测和纠正技术</h3><h4 id="奇偶校验"><a href="#奇偶校验" class="headerlink" title="奇偶校验"></a>奇偶校验</h4><p>单个奇偶校验位：使得d+1个比特中1的总数是偶数。</p>
<p>二维奇偶校验位：可知道出错比特在哪一行哪一列。</p>
<h4 id="检验和方法"><a href="#检验和方法" class="headerlink" title="检验和方法"></a>检验和方法</h4><h4 id="循环冗余检测"><a href="#循环冗余检测" class="headerlink" title="循环冗余检测"></a>循环冗余检测</h4><h3 id="多路访问链路和协议"><a href="#多路访问链路和协议" class="headerlink" title="多路访问链路和协议"></a>多路访问链路和协议</h3><p>由于所有节点都会传输帧，多个节点可能会同时传输帧。故传输的帧在所有接收方处可能会发生碰撞，当碰撞发生时，没有一个接收节点能够有效的获取任何传输的帧。</p>
<h4 id="信道划分协议"><a href="#信道划分协议" class="headerlink" title="信道划分协议"></a>信道划分协议</h4><p>时分多路复用将时间划分为时间帧和多个时隙，将不同的时隙分配给N个节点中的一个。-节点被限制于R/N bps的平均速率。</p>
<p>频分多路复用将R bps划分为不同的频段，并将每个频率分配给N个节点中的一个。-节点被限制于R/N bps的平均速率。</p>
<p>码分多址给每个节点分配不同的编码，每个节点用它唯一的编码来对它发送的数据进行编码。合适的编码能保证不同的节点同时传输，且接收方能正确的接收。</p>
<h4 id="随机接入协议"><a href="#随机接入协议" class="headerlink" title="随机接入协议"></a>随机接入协议</h4><h4 id="轮流协议"><a href="#轮流协议" class="headerlink" title="轮流协议"></a>轮流协议</h4><p>轮询协议：要求节点之一是主节点，主节点以循环的方式轮询每个节点，告诉每个节点能够传输的帧的最多数量。</p>
<p>令牌传递协议：一个称为token的小的特殊帧在节点之间以固定的次序交换，当节点收到令牌时，当他有一些帧要发送时，他才持有这个token，否则立即向下一节点转发该token。</p>
<h3 id="交换局域网"><a href="#交换局域网" class="headerlink" title="交换局域网"></a>交换局域网</h3><h4 id="链路层寻址与ARP"><a href="#链路层寻址与ARP" class="headerlink" title="链路层寻址与ARP"></a>链路层寻址与ARP</h4><p>并不是主机或路由器有链路层地址，而是他们的适配器（网络接口）有链路层地址。没有两块适配器有相同的地址。</p>
<h4 id="地址解析协议"><a href="#地址解析协议" class="headerlink" title="地址解析协议"></a>地址解析协议</h4><p>每台主机或路由器在其内存中有一个ARP表，包含了IP地址到MAC地址的映射关系，和一个寿命（TTL）值。</p>
<p>查询IP地址的MAC地址：</p>
<ul>
<li>向适配器传递一个ARP查询分组，并指示适配器使用MAC广播地址（即FF-FF-FF-FF-FF-FF）来发送这个分组。适配器在链路层帧中封装这个ARP分组，用广播地址作为帧的目的地址，并将该帧传输进子网中。（广播帧）</li>
<li>子网上的所有适配器接收到该帧后，将该帧的ARP分组向上传递给ARP模块，来检查它的IP地址是非和ARP分组中的目的IP地址匹配。与之匹配的一个给查询主机发送回一个带有所希望映射的响应ARP分组。（标准帧）</li>
</ul>
<h4 id="链路层交换机"><a href="#链路层交换机" class="headerlink" title="链路层交换机"></a>链路层交换机</h4><p>交换机自身对子网中的主机和路由器是透明的。</p>
<p>过滤：决定一个帧应该转发到某个接口还是应当将其丢弃。</p>
<p>转发：决定一个帧应该被导向哪个接口。</p>
<p>过滤和转发应该由交换机表（包含地址、接口、时间）来完成。</p>
<p>交换机表是自学习、即插即用的设备。</p>
<h5 id="交换机与路由器比较"><a href="#交换机与路由器比较" class="headerlink" title="交换机与路由器比较"></a>交换机与路由器比较</h5><p>交换机： 即插即用，处理高至链路层的帧；为防止广播帧的循环，交换网络的活跃拓扑限制为一颗生成树；一个大型交换网络要求在主机和路由器中有大的ARP表；对广播风暴不提供任何保护措施。</p>
<p>路由器：没有生成树限制，可以使用源和目的地间的最佳路径；对链路层的广播风暴提供防火墙保护；非即插即用。</p>
<h3 id="Web页面请求的历程"><a href="#Web页面请求的历程" class="headerlink" title="Web页面请求的历程"></a>Web页面请求的历程</h3><ol>
<li><p>首先运行DHCP协议获取本机IP地址</p>
<ul>
<li><p>发送DHCP发现报文</p>
</li>
<li><p>接收DHCP提供报文，中包含发现报文的事务ID，向客户推荐的IP地址，网络掩码与IP地址租用期。</p>
</li>
<li><p>生成一个DHCP请求报文，UDP报文段放在一个具有广播IP目的地址和源地址0.0.0.0的IP数据报中</p>
</li>
<li><p>包含DHCP请求报文的IP数据报被放置在以太网帧中，具有目标MAC地址FF：FF：FF：FF：FF：FF，使该帧广播到与交换机连接的所有设备；该帧的源MAC地址是主机的MAC地址00:16:D3:23:68:8A</p>
</li>
<li><p>包含DHCP的广播以太网帧被广播</p>
</li>
<li><p>DHCP服务器获取DHCP请求报文，返回一个DHCP ACK报文，包含DHCP服务器的分配的IP地址、默认网关路由器的IP地址、DNS服务器的IP地址、子网块。</p>
</li>
<li><p>包含DHCP ACK的以太网帧由路由器发送给交换机。由于交换机是自学习的，并先前从Bob收到过包含DHCP请求的以太网帧，所以该交换机知道发往哪个方向。</p>
</li>
<li><p>收到DHCP ACK的以太网帧后，从以太网帧中抽取IP数据报啊，从IP数据报中抽取UDP报文段，从UDP报文段中抽取DHCP ACK报文。</p>
</li>
</ul>
</li>
<li><p>查询<a target="_blank" rel="noopener" href="http://www.google.com的ip地址,首先知道路由器的mac地址/">www.google.com的IP地址，首先知道路由器的MAC地址</a></p>
<ul>
<li>生成一个DNS查询报文，放置在一个具有53号目的端口的UDP报文段中。该UDP报文段被放入DHCP ACK返回的DNS服务器地址和源IP地址为本机IP地址的IP数据报中。</li>
<li>将把该DNS请求报文的数据报放入一个以太网帧中，但不知道网关路由器的MAC地址。</li>
<li>使用ARP查询报文进行广播，收到ARP回答，接收包含ARP回答报文的帧，并从ARP回答报文中抽取网关路由器的MAC地址。</li>
</ul>
</li>
<li><p>域内路由选择到DNS服务器</p>
<ul>
<li>网关路由器接收该帧，抽取包含DNS查询的IP数据报，查找数据报的目的地址，根据转发表决定该数据报发送给哪个路由器。</li>
<li>某网络的路由器接收，该路由器的转发表按该网络的域内协议和因特网的域间协议BGP所填写。</li>
<li>包含DNS查询的IP数据报到达DNS服务器。DNS数据库中查找包含<a target="_blank" rel="noopener" href="http://www.google.com的ip地址的dns源记录.该缓存数据来自于google.com的权威dns服务器.生成一个主机名到ip地址映射的dns回答报文,放进udp报文段,放入ip数据报,通过该网络反向转发到学校的路由器,并通过交换机到主机./">www.google.com的IP地址的DNS源记录。该缓存数据来自于Google.com的权威DNS服务器。生成一个主机名到IP地址映射的DNS回答报文，放进UDP报文段，放入IP数据报，通过该网络反向转发到学校的路由器，并通过交换机到主机。</a></li>
<li>从DNS报文中抽取<a target="_blank" rel="noopener" href="http://www.google.com的ip地址./">www.google.com的IP地址。</a></li>
</ul>
</li>
<li><p>Web客户-服务器交互：TCP和HTTP</p>
<ul>
<li>生成TCP套接字，与<a target="_blank" rel="noopener" href="http://www.google.com中的tcp执行三次握手.生成http/">www.google.com中的TCP执行三次握手。生成HTTP</a> GET报文，写入套接字</li>
<li><a target="_blank" rel="noopener" href="http://www.google.com的http服务器从tcp套接字读取http/">www.google.com的HTTP服务器从TCP套接字读取http</a> get报文，生成一个HTTP响应报文，将请求的web页内容放入http响应体，并将报文发送给tcp套接字中。</li>
<li>抽取http响应体中的web网页的html，并最终显示了web网页。</li>
</ul>
</li>
</ol>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">DeeEll-X</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://deeell-x.github.io/2021/02/28/Computer-Networking/">http://deeell-x.github.io/2021/02/28/Computer-Networking/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/null" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2021/01/19/APUE-Notes-5/"><img class="next-cover" src="/null" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">APUE-Notes-5</div></div></a></div></nav></article></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By DeeEll-X</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></section><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    loader: {
      source: {
        '[tex]/amsCd': '[tex]/amscd'
      }
    },
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        addClass: [200,() => {
          document.querySelectorAll('mjx-container:not([display=\'true\']').forEach( node => {
            const target = node.parentNode
            if (!target.classList.contains('has-jax')) {
              target.classList.add('mathjax-overflow')
            }
          })
        }, '', false]
      }
    }
  }
  
  var script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div></body></html>